<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echopolis äº‹ä»¶è§¦å‘æ¼”ç¤º</title>
    <style>
        body { font-family: 'Microsoft YaHei', Arial, sans-serif; padding: 20px; background: #1e3c72; color: white; }
        .demo-section { margin: 20px 0; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 8px; }
        button { padding: 10px 20px; margin: 5px; background: #4a90e2; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #357abd; }
        .result { margin: 10px 0; padding: 10px; background: rgba(0,0,0,0.5); border-radius: 4px; }
    </style>
</head>
<body>
    <h1>ğŸŒ† Echopolis äº‹ä»¶è§¦å‘æ¼”ç¤º</h1>
    
    <div class="demo-section">
        <h2>ğŸ¯ äº‹ä»¶è§¦å‘æ–¹å¼</h2>
        <button onclick="triggerByBuilding()">ğŸ¦ å»ºç­‘äº’åŠ¨è§¦å‘</button>
        <button onclick="triggerByTime()">â° æ—¶é—´è§¦å‘</button>
        <button onclick="triggerByChat()">ğŸ’¬ èŠå¤©è§¦å‘</button>
        <button onclick="triggerByRandom()">ğŸ² éšæœºè§¦å‘</button>
        <div id="trigger-result" class="result"></div>
    </div>
    
    <div class="demo-section">
        <h2>ğŸ¢ å»ºç­‘ç±»å‹äº‹ä»¶</h2>
        <button onclick="generateSituation('banking')">ğŸ¦ é“¶è¡Œäº‹ä»¶</button>
        <button onclick="generateSituation('investment')">ğŸ“ˆ æŠ•èµ„äº‹ä»¶</button>
        <button onclick="generateSituation('lifestyle')">ğŸ  ç”Ÿæ´»äº‹ä»¶</button>
        <button onclick="generateSituation('general')">ğŸ¯ é€šç”¨äº‹ä»¶</button>
        <div id="situation-result" class="result"></div>
    </div>
    
    <div class="demo-section">
        <h2>ğŸ¤– AIå†³ç­–æ¼”ç¤º</h2>
        <button onclick="mockAIDecision('INTJ')">ğŸ§  INTJå†³ç­–</button>
        <button onclick="mockAIDecision('ESFP')">ğŸ­ ESFPå†³ç­–</button>
        <button onclick="mockAIDecision('ISTJ')">ğŸ“‹ ISTJå†³ç­–</button>
        <button onclick="mockAIDecision('ENTP')">ğŸ’¡ ENTPå†³ç­–</button>
        <div id="decision-result" class="result"></div>
    </div>

    <script>
        function triggerByBuilding() {
            document.getElementById('trigger-result').innerHTML = `
                <h4>ğŸ¦ å»ºç­‘äº’åŠ¨è§¦å‘</h4>
                <p>âœ… ç©å®¶é è¿‘ä¸­å¤®é“¶è¡Œ</p>
                <p>âœ… æŒ‰ç©ºæ ¼é”®äº’åŠ¨</p>
                <p>âœ… è§¦å‘é“¶è¡Œç›¸å…³äº‹ä»¶</p>
                <p>ğŸ“‹ äº‹ä»¶ç±»å‹: banking</p>
            `;
        }
        
        function triggerByTime() {
            document.getElementById('trigger-result').innerHTML = `
                <h4>â° æ—¶é—´è§¦å‘</h4>
                <p>âœ… æ¯å›åˆè‡ªåŠ¨æ£€æŸ¥</p>
                <p>âœ… æ ¹æ®å›åˆæ•°è§¦å‘ç‰¹å®šäº‹ä»¶</p>
                <p>âœ… å­£åº¦/å¹´åº¦é‡è¦äº‹ä»¶</p>
                <p>ğŸ“‹ äº‹ä»¶ç±»å‹: seasonal</p>
            `;
        }
        
        function triggerByChat() {
            document.getElementById('trigger-result').innerHTML = `
                <h4>ğŸ’¬ èŠå¤©è§¦å‘</h4>
                <p>âœ… ç©å®¶å‘é€å›å“æ¶ˆæ¯</p>
                <p>âœ… AIåˆ†ææ¶ˆæ¯å†…å®¹</p>
                <p>âœ… ç”Ÿæˆç›¸å…³æƒ…å†µ</p>
                <p>ğŸ“‹ äº‹ä»¶ç±»å‹: interactive</p>
            `;
        }
        
        function triggerByRandom() {
            document.getElementById('trigger-result').innerHTML = `
                <h4>ğŸ² éšæœºè§¦å‘</h4>
                <p>âœ… åŸºäºæ¦‚ç‡éšæœºå‘ç”Ÿ</p>
                <p>âœ… è€ƒè™‘è§’è‰²çŠ¶æ€å’ŒMBTI</p>
                <p>âœ… å¢åŠ æ¸¸æˆä¸ç¡®å®šæ€§</p>
                <p>ğŸ“‹ äº‹ä»¶ç±»å‹: random</p>
            `;
        }
        
        async function generateSituation(contextType) {
            const mockData = {
                name: "æµ‹è¯•ç©å®¶",
                mbti: "INTP",
                assets: 500000,
                contextType: contextType
            };
            
            try {
                const response = await fetch('/api/generate_situation', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(mockData)
                });
                
                const result = await response.json();
                document.getElementById('situation-result').innerHTML = `
                    <h4>ğŸ“‹ ${contextType} äº‹ä»¶</h4>
                    <p><strong>æƒ…å†µ:</strong> ${result.situation}</p>
                    <div><strong>é€‰é¡¹:</strong></div>
                    <ul>
                        ${result.options.map((option, i) => `<li>${i+1}. ${option}</li>`).join('')}
                    </ul>
                `;
            } catch (error) {
                document.getElementById('situation-result').innerHTML = `
                    <h4>âŒ é”™è¯¯</h4>
                    <p>æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œè¯·å…ˆå¯åŠ¨: python web/server.py</p>
                `;
            }
        }
        
        function mockAIDecision(mbtiType) {
            const decisions = {
                'INTJ': {
                    choice: "é€‰æ‹©é•¿æœŸæŠ•èµ„ç­–ç•¥",
                    reasoning: "ä½œä¸ºINTJï¼Œæˆ‘æ›´å€¾å‘äºåˆ¶å®šé•¿æœŸè§„åˆ’ï¼Œè¿™ä¸ªé€‰æ‹©ç¬¦åˆæˆ‘çš„æˆ˜ç•¥æ€ç»´ã€‚"
                },
                'ESFP': {
                    choice: "é€‰æ‹©å½“ä¸‹äº«å—çš„é€‰é¡¹",
                    reasoning: "ä½œä¸ºESFPï¼Œæˆ‘æ›´å…³æ³¨å½“ä¸‹çš„æ„Ÿå—å’Œä½“éªŒï¼Œè¿™ä¸ªé€‰æ‹©è®©æˆ‘æ„Ÿè§‰æ›´å¥½ã€‚"
                },
                'ISTJ': {
                    choice: "é€‰æ‹©æœ€ç¨³å¦¥çš„æ–¹æ¡ˆ",
                    reasoning: "ä½œä¸ºISTJï¼Œæˆ‘åå¥½å¯é å’Œä¼ ç»Ÿçš„æ–¹æ³•ï¼Œè¿™ä¸ªé€‰æ‹©é£é™©æœ€å°ã€‚"
                },
                'ENTP': {
                    choice: "é€‰æ‹©åˆ›æ–°çš„æœºä¼š",
                    reasoning: "ä½œä¸ºENTPï¼Œæˆ‘å–œæ¬¢æ¢ç´¢æ–°çš„å¯èƒ½æ€§ï¼Œè¿™ä¸ªé€‰æ‹©æœ€æœ‰æŒ‘æˆ˜æ€§ã€‚"
                }
            };
            
            const decision = decisions[mbtiType];
            document.getElementById('decision-result').innerHTML = `
                <h4>ğŸ¤– ${mbtiType} AIå†³ç­–</h4>
                <p><strong>é€‰æ‹©:</strong> ${decision.choice}</p>
                <p><strong>AIæ€è€ƒ:</strong> ${decision.reasoning}</p>
                <p><strong>ä¿¡ä»»åº¦å˜åŒ–:</strong> +${Math.floor(Math.random() * 5) + 1}</p>
            `;
        }
    </script>
</body>
</html>