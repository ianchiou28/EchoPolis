// The Core Loop of Echopolis Gameplay
digraph Echopolis_Core_Loop {
	graph [bgcolor="#1a2a3b" fontcolor="#ffffff" fontname="Microsoft YaHei" fontsize=24 label="The Core Loop: Echopolis Gameplay Cycle (核心循环：Echopolis玩法周期)" rankdir=TB splines=curved]
	node [color="#00aaff" fillcolor="#2a394d" fontcolor="#ffffff" fontname="Microsoft YaHei" fontsize=16 shape=box style="rounded,filled"]
	edge [color="#00aaff" fontcolor="#ffffff" fontname="Microsoft YaHei" fontsize=12]
	subgraph cluster_core {
		node [fillcolor="#2a394d" fontcolor="#ffffff" fontsize=20 shape=doublecircle style=filled]
		color="#1a2a3b" style=filled
		agent [label="AI Agent
Your Digital Twin
(你的数字孪生)"]
	}
	subgraph cluster_loop {
		color="#1a2a3b"
		observe [label=<<B>1. 观察 (Observe)</B><BR ALIGN="LEFT"/>
    <FONT POINT-SIZE="12">
    - 审阅财务报表 (Review Financials)<BR ALIGN="LEFT"/>
    - 查看AI心理状态 (Check AI's Psychology)<BR ALIGN="LEFT"/>
    - 接收宏观新闻 (Receive Market News)<BR ALIGN="LEFT"/>
    - 发现决策事件 (Identify Decision Points)<BR ALIGN="LEFT"/>
    </FONT>>]
		reflect [label=<<B>2. 思考 (Reflect)</B><BR ALIGN="LEFT"/>
    <FONT POINT-SIZE="12">
    - 分析AI行为动机 (Analyze AI's Motivation)<BR ALIGN="LEFT"/>
    - 评估风险与机遇 (Assess Risks & Opportunities)<BR ALIGN="LEFT"/>
    - 制定干预策略 (Formulate Intervention Strategy)<BR ALIGN="LEFT"/>
    - “我该对‘他’说些什么？” ("What should I say to 'him'?")<BR ALIGN="LEFT"/>
    </FONT>>]
		intervene [label=<<B>3. 干预 (Intervene)</B><BR ALIGN="LEFT"/>
    <FONT POINT-SIZE="12">
    - 发出“意识回响” (Send "Echoes of Consciousness")<BR ALIGN="LEFT"/>
    - 消耗干预点数(IP) (Consume Intervention Points)<BR ALIGN="LEFT"/>
    - 选择干预类型 (Choose Intervention Type)<BR ALIGN="LEFT"/>
    - (启发/建议/指令/鼓励)<BR ALIGN="LEFT"/>
    </FONT>> color="#ff8c00" fontcolor="#ff8c00"]
		witness [label=<<B>4. 见证 (Witness)</B><BR ALIGN="LEFT"/>
    <FONT POINT-SIZE="12">
    - 观察AI的即时反馈 (Observe AI's Immediate Feedback)<BR ALIGN="LEFT"/>
    - 追踪长期连锁后果 (Track Long-term Consequences)<BR ALIGN="LEFT"/>
    - AI化身学习与演化 (AI Agent Learns & Evolves)<BR ALIGN="LEFT"/>
    - 世界状态发生改变 (World State is Altered)<BR ALIGN="LEFT"/>
    </FONT>>]
	}
	observe -> reflect [style=invis]
	intervene -> witness [style=invis]
	observe -> reflect [label="  " constraint=false]
	reflect -> intervene [label="  " constraint=false]
	intervene -> witness [label="Action & Consequence" constraint=false]
	witness -> observe [label="New State, New Loop" constraint=false]
	agent -> observe [style=invis]
	agent -> intervene [style=invis]
}
